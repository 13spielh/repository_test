<!doctype html>
<html lang="en">
 <head>
   <title>My project</title>
   <meta charset="utf-8">
   <link rel="stylesheet" href="css/CETEIcean.css" />
   <link rel="stylesheet" href="css/test.css" />
   <script src="js/CETEI.js"></script>
 </head>
 <body>
   <div id="TEI"></div>
   <script>

    var CETEIcean = new CETEI()



    CETEIcean.addBehaviors({
      tei: {
         persName: function (el) {
           var a = document.createElement ("a")
           a.setAttribute("href", el.getAttribute("ana"))
           a.innerHTML = el.innerHTML
           return a;
         }
       }
         })
    CETEIcean.addBehaviors({
     tei: {
         head: function(e) {
         let level = Number.parseInt(e.getAttribute("data-level"));
         let result = document.createElement("h" + (level < 6 ? level : 6));
         for (let n of Array.from(e.childNodes)) {
           result.appendChild(n.cloneNode());
         }
        return result;
         }
         }
           })
    
CETEIcean.addBehaviors({
 tei: {
 persName: [
  ["[ref]", ["<a href=\"$rw@ref\" target=\"_blank\">","</a>"]]
]}
})





     CETEIcean.getHTML5("data/edition_test.xml", function(data) {
      document.getElementById("TEI").appendChild(data)

     })


   </script>
 </body>
</html>
